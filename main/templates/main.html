{% extends 'base.html' %}

{% block content %}
<div class="h-screen flex flex-col items-center">
  <nav class="bg-white dark:bg-gray-900 fixed w-full z-20 top-0 left-0 border-b border-gray-200 dark:border-gray-600">
    <div class="max-w-screen-xl flex flex-wrap items-center justify-between mx-auto p-4">
    <a href="" class="flex items-center">
        <span class="self-center text-2xl font-semibold whitespace-nowrap dark:text-white">The Hunter's Workshop</span>
    </a>
    <div class="flex items-center">
      <a href="{% url 'main:logout' %}">
        <button type="button" class="focus:outline-none text-white bg-red-700 hover:bg-red-800 focus:ring-4 focus:ring-red-300 font-medium rounded-lg text-sm px-5 py-2.5 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-900">Logout
        </button>
      </a>
    </div>
  </nav>

  <div class="relative overflow-x-auto shadow-md pt-12 pb-10">
    <p class="text-gray-500 whitespace-nowrap dark:text-gray-400">Welcome, {{ name }}! from {{ class }}</p>
  </div>

  <div class="relative overflow-x-auto shadow-md sm:rounded-lg" style="max-width: 82%; margin: 0 auto;">
      <table class="w-full text-sm text-center text-gray-500 dark:text-gray-400 border-separate border border-gray-900 mx-auto">
        <caption class="p-5 text-lg font-semibold text-left text-gray-900 bg-white dark:text-white dark:bg-gray-800">
          {% if counter == 0 %}
          You haven't found any weapons!
          {% elif counter == 1 %}
          You have found a weapon!
          {% else %}
          You have found {{ counter }} weapons!
          {% endif %}
          <a href="{% url 'main:create_weapon' %}">
            <button type="button" class="focus:outline-none text-white bg-green-700 hover:bg-green-800 focus:ring-4 focus:ring-green-300 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800 float-right">Add New Weapon</button>
          </a>
        </caption>
          <thead class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400">
              <tr>
                  <th scope="col" class="px-2 py-2">
                      Name
                  </th>
                  <th scope="col" class="px-2 py-2">
                      Type
                  </th>
                  <th scope="col" class="px-2 py-2">
                      Attack Rating
                  </th>
                  <th scope="col" class="px-2 py-2">
                      Amount
                  </th>
                  <th scope="col" class="px-2 py-2">
                      Action
                  </th>
                  <th scope="col" class="px-2 py-2">
                      Description
                  </th>
                  <th scope="col" class="px-2 py-2">
                      Date Added
                  </th>
                  <th scope="col" class="px-2 py-2">
                      Edit
                  </th>
              </tr>
          </thead>
          {% for weapon in weapons %}
          <tbody>
            {% if forloop.last %}
            <tr class="bg-white border-b dark:bg-gray-700 dark:border-gray-500 transition-colors duration-200 hover:bg-green-900 dark:hover:bg-green-900">
            {% else %}
            <tr class="bg-white border-b dark:bg-gray-900 dark:border-gray-700 transition-colors duration-200 hover:bg-gray-100 dark:hover:bg-gray-700">
            {% endif %}
                  <th scope="row" class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white">
                      {{ weapon.name }}
                  </th>
                  <td class="px-6 py-4">
                      {{ weapon.type }}
                  </td>
                  <td class="px-6 py-4">
                      {{ weapon.attack_rating }}
                  </td>
                  <td class="px-6 py-4">
                      {{ weapon.amount }}
                  </td>
                  <td class="px-6 py-4">
                    <a href="{% url 'main:increment' weapon.id %}">
                      <button type="button" class="focus:outline-none text-white bg-green-700 hover:bg-green-800 focus:ring-4 focus:ring-green-300 font-medium rounded-lg text-sm px-2 py-1 mr-2 mb-2 dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800">Add</button>
                    </a>
                    {% if weapon.amount > 1 %}
                    <a href="{% url 'main:decrement' weapon.id %}">
                      <button type="button" class="focus:outline-none text-white bg-yellow-400 hover:bg-yellow-500 focus:ring-4 focus:ring-yellow-300 font-medium rounded-lg text-sm px-2 py-1 mr-2 mb-2 dark:focus:ring-yellow-900">Drop</button>
                    </a>
                    {% endif %}
                    <a href="{% url 'main:delete' weapon.id %}">
                      <button type="button" class="focus:outline-none text-white bg-red-700 hover:bg-red-800 focus:ring-4 focus:ring-red-300 font-medium rounded-lg text-sm px-2 py-1 mr-2 mb-2 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-900">Purge</button>
                    <a>
                  </td>
                  <td class="px-6 py-4">
                      {{ weapon.description }}
                  </td>
                  <td class="px-6 py-4">
                      {{ weapon.date_added }}
                  </td>
                  <td class="px-6 py-4">
                      <a href="{% url 'main:edit_product' weapon.id %}">
                        <button type="button" class="py-2.5 px-5 mr-2 mb-2 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700">Edit</button>
                      </a>
                  </td>
              </tr>
          </tbody>
          {% endfor %}
      </table>
    </div>
    <h5 class="text-gray-500 whitespace-nowrap dark:text-gray-400 pt-10">
      This website is not affiliated with Bloodborne or FromSoftware in any way.
    </h5>
    <h5 class="text-gray-500 whitespace-nowrap dark:text-gray-400">
      Last login session: {{ last_login }}
    </h5>
</div>

<br />
{% endblock content %}
